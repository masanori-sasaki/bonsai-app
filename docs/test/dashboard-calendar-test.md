# ダッシュボードカレンダー結合テスト

このドキュメントでは、Bonsai Appのダッシュボードカレンダー機能に関する結合テストケースを定義します。

## 目次

1. [テスト概要](#テスト概要)
2. [因子と水準](#因子と水準)
3. [テストケース](#テストケース)
4. [テスト実行手順](#テスト実行手順)

## テスト概要

ダッシュボードカレンダー機能は、作業予定と作業記録をカレンダー上にマッピングして表示する機能です。このテストでは、カレンダーの表示、イベントの表示、ユーザー操作に関する機能が正しく動作することを確認します。

## 因子と水準

ダッシュボードカレンダー機能のテストに関連する因子と水準は以下の通りです：

### 因子A: 表示モード
- A1: 月表示
- A2: 週表示

### 因子B: イベントタイプ
- B1: 作業予定のみ
- B2: 作業記録のみ
- B3: 作業予定と作業記録の両方

### 因子C: イベント数
- C1: 少数（1〜5件）
- C2: 多数（10件以上）

### 因子D: 期間
- D1: 現在の月/週
- D2: 過去の月/週
- D3: 未来の月/週

### 因子E: ユーザー操作
- E1: 表示切り替え（月表示⇔週表示）
- E2: 期間移動（前月/次月、前週/次週）
- E3: イベントクリック

## テストケース

ペアワイズ法を用いて、2因子間の組み合わせを網羅するテストケースを設計しました。

| テストID | 表示モード | イベントタイプ | イベント数 | 期間 | ユーザー操作 | 説明 |
|----------|------------|----------------|------------|------|--------------|------|
| TC-CAL-001 | 月表示 | 作業予定のみ | 少数 | 現在 | 表示切り替え | 月表示で少数の作業予定を表示し、週表示に切り替える |
| TC-CAL-002 | 月表示 | 作業記録のみ | 多数 | 過去 | 期間移動 | 月表示で過去の多数の作業記録を表示し、期間を移動する |
| TC-CAL-003 | 月表示 | 両方 | 少数 | 未来 | イベントクリック | 月表示で未来の少数の作業予定と作業記録を表示し、イベントをクリックする |
| TC-CAL-004 | 週表示 | 作業予定のみ | 多数 | 未来 | 期間移動 | 週表示で未来の多数の作業予定を表示し、期間を移動する |
| TC-CAL-005 | 週表示 | 作業記録のみ | 少数 | 現在 | イベントクリック | 週表示で現在の少数の作業記録を表示し、イベントをクリックする |
| TC-CAL-006 | 週表示 | 両方 | 多数 | 過去 | 表示切り替え | 週表示で過去の多数の作業予定と作業記録を表示し、月表示に切り替える |
| TC-CAL-007 | 月表示 | 作業予定のみ | 多数 | 現在 | イベントクリック | 月表示で現在の多数の作業予定を表示し、イベントをクリックする |
| TC-CAL-008 | 月表示 | 作業記録のみ | 少数 | 未来 | 表示切り替え | 月表示で未来の少数の作業記録を表示し、週表示に切り替える |
| TC-CAL-009 | 週表示 | 作業予定のみ | 少数 | 過去 | イベントクリック | 週表示で過去の少数の作業予定を表示し、イベントをクリックする |

### TC-CAL-001: 月表示での作業予定表示と表示切り替え

**目的**: 月表示で少数の作業予定を表示し、週表示に切り替える機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業予定（1〜5件、現在の月内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. カレンダーが月表示で表示されることを確認する
3. 現在の月のカレンダーに作業予定が表示されることを確認する
4. 表示切り替えボタン（週表示）をクリックする

**期待結果**:
- カレンダーが月表示から週表示に切り替わる
- 週表示でも同じ作業予定が表示される
- 作業予定が青系統の色で表示される

### TC-CAL-002: 月表示での過去の作業記録表示と期間移動

**目的**: 月表示で過去の多数の作業記録を表示し、期間を移動する機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業記録（10件以上、過去の月に分散）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. カレンダーが月表示で表示されることを確認する
3. 前月ボタンをクリックする
4. 過去の月のカレンダーに作業記録が表示されることを確認する
5. さらに前月ボタンをクリックする
6. より過去の月のカレンダーに作業記録が表示されることを確認する
7. 次月ボタンをクリックする

**期待結果**:
- カレンダーが前月、さらに前月、そして元の月に正しく移動する
- 各月に対応する作業記録が正しく表示される
- 作業記録が緑系統の色で表示される
- 多数の作業記録が重なる場合でも適切に表示される

### TC-CAL-003: 月表示での未来の作業予定と作業記録表示、イベントクリック

**目的**: 月表示で未来の作業予定と作業記録を表示し、イベントクリック機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業予定（1〜3件、未来の月内）
- テスト用の作業記録（1〜2件、未来の月内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. カレンダーが月表示で表示されることを確認する
3. 次月ボタンをクリックする
4. 未来の月のカレンダーに作業予定と作業記録が表示されることを確認する
5. 作業予定のイベントをクリックする
6. 作業記録のイベントをクリックする

**期待結果**:
- 作業予定をクリックすると、作業予定詳細画面に遷移する
- 作業記録をクリックすると、作業記録詳細画面に遷移する
- 作業予定と作業記録が異なる色で表示される

### TC-CAL-004: 週表示での未来の作業予定表示と期間移動

**目的**: 週表示で未来の多数の作業予定を表示し、期間を移動する機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業予定（10件以上、未来の週に分散）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. 表示切り替えボタン（週表示）をクリックする
3. カレンダーが週表示で表示されることを確認する
4. 次週ボタンをクリックする
5. 未来の週のカレンダーに作業予定が表示されることを確認する
6. さらに次週ボタンをクリックする
7. より未来の週のカレンダーに作業予定が表示されることを確認する
8. 前週ボタンをクリックする

**期待結果**:
- カレンダーが次週、さらに次週、そして元の週に正しく移動する
- 各週に対応する作業予定が正しく表示される
- 作業予定が青系統の色で表示される
- 多数の作業予定が重なる場合でも適切に表示される

### TC-CAL-005: 週表示での現在の作業記録表示とイベントクリック

**目的**: 週表示で現在の作業記録を表示し、イベントクリック機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業記録（1〜5件、現在の週内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. 表示切り替えボタン（週表示）をクリックする
3. カレンダーが週表示で表示されることを確認する
4. 現在の週のカレンダーに作業記録が表示されることを確認する
5. 作業記録のイベントをクリックする

**期待結果**:
- 作業記録をクリックすると、作業記録詳細画面に遷移する
- 作業記録が緑系統の色で表示される
- 週表示では時間帯も正しく表示される（終日イベントや時間指定イベント）

### TC-CAL-006: 週表示での過去の作業予定と作業記録表示、表示切り替え

**目的**: 週表示で過去の作業予定と作業記録を表示し、月表示に切り替える機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業予定（5件以上、過去の週内）
- テスト用の作業記録（5件以上、過去の週内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. 表示切り替えボタン（週表示）をクリックする
3. カレンダーが週表示で表示されることを確認する
4. 前週ボタンをクリックする
5. 過去の週のカレンダーに作業予定と作業記録が表示されることを確認する
6. 表示切り替えボタン（月表示）をクリックする

**期待結果**:
- カレンダーが週表示から月表示に切り替わる
- 月表示でも同じ作業予定と作業記録が表示される
- 作業予定と作業記録が異なる色で表示される

### TC-CAL-007: 月表示での現在の多数の作業予定表示とイベントクリック

**目的**: 月表示で現在の多数の作業予定を表示し、イベントクリック機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業予定（10件以上、現在の月内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. カレンダーが月表示で表示されることを確認する
3. 現在の月のカレンダーに多数の作業予定が表示されることを確認する
4. 作業予定のイベントをクリックする

**期待結果**:
- 多数の作業予定が適切に表示される（重なりや省略表示の処理）
- 作業予定をクリックすると、作業予定詳細画面に遷移する
- 作業予定が青系統の色で表示される

### TC-CAL-008: 月表示での未来の作業記録表示と表示切り替え

**目的**: 月表示で未来の作業記録を表示し、週表示に切り替える機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業記録（1〜5件、未来の月内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. カレンダーが月表示で表示されることを確認する
3. 次月ボタンをクリックする
4. 未来の月のカレンダーに作業記録が表示されることを確認する
5. 表示切り替えボタン（週表示）をクリックする

**期待結果**:
- カレンダーが月表示から週表示に切り替わる
- 週表示でも同じ作業記録が表示される
- 作業記録が緑系統の色で表示される

### TC-CAL-009: 週表示での過去の作業予定表示とイベントクリック

**目的**: 週表示で過去の作業予定を表示し、イベントクリック機能を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- テスト用の盆栽（1つ以上）
- テスト用の作業予定（1〜5件、過去の週内）

**テストステップ**:
1. ダッシュボード画面にアクセスする
2. 表示切り替えボタン（週表示）をクリックする
3. カレンダーが週表示で表示されることを確認する
4. 前週ボタンをクリックする
5. 過去の週のカレンダーに作業予定が表示されることを確認する
6. 作業予定のイベントをクリックする

**期待結果**:
- 作業予定をクリックすると、作業予定詳細画面に遷移する
- 作業予定が青系統の色で表示される
- 週表示では時間帯も正しく表示される（終日イベントや時間指定イベント）

## テスト実行手順

1. テスト環境の準備
   - テスト用のユーザーアカウントを用意
   - テスト用の盆栽データを登録
   - テスト用の作業予定と作業記録を登録（現在/過去/未来の日付で）

2. テストの実行
   - 各テストケースを順番に実行
   - テスト結果を記録（成功/失敗、スクリーンショット）
   - 失敗したテストケースについては、原因を調査

3. テスト結果の評価
   - 全てのテストケースが成功したか確認
   - UI表示の一貫性を確認（色、レイアウト）
   - パフォーマンスの問題がないか確認（表示速度、レスポンス）

4. 問題点の修正
   - 発見された問題点を修正
   - 修正後、関連するテストケースを再実行

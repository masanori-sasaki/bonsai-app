# 一括水やりボタン機能テスト

このドキュメントでは、ダッシュボード画面の一括水やりボタン機能に関する結合テストケースを定義します。

## テスト因子と水準

| 因子 | 水準1 | 水準2 | 水準3 |
|------|-------|-------|-------|
| 盆栽数 | 0件 | 1件 | 複数件(5件) |
| 説明文 | デフォルト「一括水やり」 | ユーザー入力あり | 空文字 |
| 画面サイズ | デスクトップ | タブレット | モバイル |

## ペアワイズテストケース

| No | 盆栽数 | 説明文 | 画面サイズ | 期待結果 |
|----|-------|-------|----------|----------|
| 1  | 0件   | デフォルト | デスクトップ | エラーメッセージ「水やり記録を作成する盆栽がありません」 |
| 2  | 0件   | ユーザー入力 | タブレット | エラーメッセージ「水やり記録を作成する盆栽がありません」 |
| 3  | 0件   | 空文字 | モバイル | エラーメッセージ「水やり記録を作成する盆栽がありません」 |
| 4  | 1件   | デフォルト | タブレット | 成功メッセージ「1件の盆栽に水やり記録を作成しました」 |
| 5  | 1件   | ユーザー入力 | モバイル | 成功メッセージ「1件の盆栽に水やり記録を作成しました」 |
| 6  | 1件   | 空文字 | デスクトップ | バリデーションエラー「説明は必須です」 |
| 7  | 複数件 | デフォルト | モバイル | 成功メッセージ「5件の盆栽に水やり記録を作成しました」 |
| 8  | 複数件 | ユーザー入力 | デスクトップ | 成功メッセージ「5件の盆栽に水やり記録を作成しました」 |
| 9  | 複数件 | 空文字 | タブレット | バリデーションエラー「説明は必須です」 |

## テスト手順

### 前提条件
- テスト環境にログイン済みであること
- テストケースに応じた盆栽データが登録されていること

### テスト手順
1. ダッシュボード画面を表示
2. 画面右下の一括水やりボタン（水滴アイコン）をクリック
3. 表示されたダイアログで説明文を確認または編集
4. 「水やりを記録」ボタンをクリック
5. 結果を確認

### 確認項目
- ボタンの表示位置とスクロール追従
- ダイアログの表示内容
- 処理結果のメッセージ表示
- 作成された水やり記録の内容

## 詳細テストケース

### TC-BULK-001: 盆栽なしでの一括水やり

**目的**: 盆栽が登録されていない状態で一括水やりボタンを使用した場合の動作を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- 盆栽が登録されていない状態

**テストステップ**:
1. ダッシュボード画面を表示
2. 画面右下の一括水やりボタンをクリック
3. 表示されたダイアログでデフォルトの説明文「一括水やり」を確認
4. 「水やりを記録」ボタンをクリック

**期待結果**:
- エラーメッセージ「水やり記録を作成する盆栽がありません」が表示される
- 水やり記録は作成されない

### TC-BULK-002: 単一盆栽での一括水やり

**目的**: 1件の盆栽が登録されている状態で一括水やりボタンを使用した場合の動作を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- 1件の盆栽が登録されている状態

**テストステップ**:
1. ダッシュボード画面を表示
2. 画面右下の一括水やりボタンをクリック
3. 表示されたダイアログでデフォルトの説明文「一括水やり」を確認
4. 「水やりを記録」ボタンをクリック

**期待結果**:
- 成功メッセージ「1件の盆栽に水やり記録を作成しました」が表示される
- 対象の盆栽に水やり作業記録が作成される
- 作業記録の説明文が「一括水やり」となっている
- 作業記録の日付が現在日付となっている

### TC-BULK-003: 複数盆栽での一括水やり

**目的**: 複数の盆栽が登録されている状態で一括水やりボタンを使用した場合の動作を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- 5件の盆栽が登録されている状態

**テストステップ**:
1. ダッシュボード画面を表示
2. 画面右下の一括水やりボタンをクリック
3. 表示されたダイアログで説明文を「今日の水やり」に変更
4. 「水やりを記録」ボタンをクリック

**期待結果**:
- 成功メッセージ「5件の盆栽に水やり記録を作成しました」が表示される
- すべての盆栽に水やり作業記録が作成される
- 作業記録の説明文が「今日の水やり」となっている
- 作業記録の日付が現在日付となっている

### TC-BULK-004: 空の説明文での一括水やり

**目的**: 説明文を空にした場合のバリデーション動作を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- 複数の盆栽が登録されている状態

**テストステップ**:
1. ダッシュボード画面を表示
2. 画面右下の一括水やりボタンをクリック
3. 表示されたダイアログで説明文を空にする
4. 「水やりを記録」ボタンをクリック

**期待結果**:
- バリデーションエラー「説明は必須です」が表示される
- 水やり記録は作成されない

### TC-BULK-005: 異なる画面サイズでの一括水やりボタン表示

**目的**: 異なる画面サイズでの一括水やりボタンの表示位置と動作を確認する

**前提条件**:
- ログイン済みのテストユーザーセッション
- 複数の盆栽が登録されている状態

**テストステップ**:
1. デスクトップサイズ（1920x1080）でダッシュボード画面を表示
2. 画面右下の一括水やりボタンの位置を確認
3. ページをスクロールし、ボタンが追従することを確認
4. タブレットサイズ（768x1024）に画面サイズを変更
5. 画面右下の一括水やりボタンの位置を確認
6. モバイルサイズ（375x667）に画面サイズを変更
7. 画面右下の一括水やりボタンの位置を確認

**期待結果**:
- すべての画面サイズで一括水やりボタンが画面右下に固定表示される
- ページスクロール時にボタンが画面に追従する
- ボタンのサイズと位置が各画面サイズに適切に対応している
